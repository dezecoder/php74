--TEST--
Bigint operator consistency
--DESCRIPTION--
This tests various operators with various integer values to ensure they all yield integers, bigint or no
This test is designed to run on all platforms; it should produce the exact same result on all of them, as that is the goal of bigints
--FILE--
<?php

/* 32-bit max, 32-bit min, 64-bit max, 64-bit min, 128-bit max */
$lvalues = [0x7FFFFFFF, -0x80000000, 0x7FFFFFFFFFFFFFFF, -0x8000000000000000, 0xffffffffffffffffffffffffffffffff];
$rvalues = [1, 2, 32, 64];

/* We won't test / as it returns floats in some cases */
$binary_operators = ['+', '-', '*', '**', '%', '&', '|', '^', '<<', '>>'];
$unary_operators = ['+', '-', '~'];

foreach ($binary_operators as $op) {
    echo "binary operator '$op':\n";
    foreach ($lvalues as $lval) {
        foreach ($rvalues as $rval) {
            echo "$lval $op $rval: ";
            var_dump(eval("return $lval $op $rval;"));
        }
    }
    echo "\n";
}
foreach ($unary_operators as $op) {
    echo "unary operator '$op':\n";
    foreach ($lvalues as $lval) {
        echo "$op $lval: ";
        var_dump(eval("return $op $lval;"));
    }
    echo "\n";
}
--EXPECT--
binary operator '+':
2147483647 + 1: int(2147483648)
2147483647 + 2: int(2147483649)
2147483647 + 32: int(2147483679)
2147483647 + 64: int(2147483711)
-2147483648 + 1: int(-2147483647)
-2147483648 + 2: int(-2147483646)
-2147483648 + 32: int(-2147483616)
-2147483648 + 64: int(-2147483584)
9223372036854775807 + 1: int(9223372036854775808)
9223372036854775807 + 2: int(9223372036854775809)
9223372036854775807 + 32: int(9223372036854775839)
9223372036854775807 + 64: int(9223372036854775871)
-9223372036854775808 + 1: int(-9223372036854775807)
-9223372036854775808 + 2: int(-9223372036854775806)
-9223372036854775808 + 32: int(-9223372036854775776)
-9223372036854775808 + 64: int(-9223372036854775744)
340282366920938463463374607431768211455 + 1: int(340282366920938463463374607431768211456)
340282366920938463463374607431768211455 + 2: int(340282366920938463463374607431768211457)
340282366920938463463374607431768211455 + 32: int(340282366920938463463374607431768211487)
340282366920938463463374607431768211455 + 64: int(340282366920938463463374607431768211519)

binary operator '-':
2147483647 - 1: int(2147483646)
2147483647 - 2: int(2147483645)
2147483647 - 32: int(2147483615)
2147483647 - 64: int(2147483583)
-2147483648 - 1: int(-2147483649)
-2147483648 - 2: int(-2147483650)
-2147483648 - 32: int(-2147483680)
-2147483648 - 64: int(-2147483712)
9223372036854775807 - 1: int(9223372036854775806)
9223372036854775807 - 2: int(9223372036854775805)
9223372036854775807 - 32: int(9223372036854775775)
9223372036854775807 - 64: int(9223372036854775743)
-9223372036854775808 - 1: int(-9223372036854775809)
-9223372036854775808 - 2: int(-9223372036854775810)
-9223372036854775808 - 32: int(-9223372036854775840)
-9223372036854775808 - 64: int(-9223372036854775872)
340282366920938463463374607431768211455 - 1: int(340282366920938463463374607431768211454)
340282366920938463463374607431768211455 - 2: int(340282366920938463463374607431768211453)
340282366920938463463374607431768211455 - 32: int(340282366920938463463374607431768211423)
340282366920938463463374607431768211455 - 64: int(340282366920938463463374607431768211391)

binary operator '*':
2147483647 * 1: int(2147483647)
2147483647 * 2: int(4294967294)
2147483647 * 32: int(68719476704)
2147483647 * 64: int(137438953408)
-2147483648 * 1: int(-2147483648)
-2147483648 * 2: int(-4294967296)
-2147483648 * 32: int(-68719476736)
-2147483648 * 64: int(-137438953472)
9223372036854775807 * 1: int(9223372036854775807)
9223372036854775807 * 2: int(18446744073709551614)
9223372036854775807 * 32: int(295147905179352825824)
9223372036854775807 * 64: int(590295810358705651648)
-9223372036854775808 * 1: int(-9223372036854775808)
-9223372036854775808 * 2: int(-18446744073709551616)
-9223372036854775808 * 32: int(-295147905179352825856)
-9223372036854775808 * 64: int(-590295810358705651712)
340282366920938463463374607431768211455 * 1: int(340282366920938463463374607431768211455)
340282366920938463463374607431768211455 * 2: int(680564733841876926926749214863536422910)
340282366920938463463374607431768211455 * 32: int(10889035741470030830827987437816582766560)
340282366920938463463374607431768211455 * 64: int(21778071482940061661655974875633165533120)

binary operator '**':
2147483647 ** 1: int(2147483647)
2147483647 ** 2: int(4611686014132420609)
2147483647 ** 32: int(41855804344513474996659235398101492226513356497450298740932889847998693318143069882098996132602011303952349637025722282585533160693229396196872386718816372844518146497415885223313922264348563527038409009746582412510577609691239404142296725925022012935690228019787759005225367255740944911962461962241)
2147483647 ** 64: int(1751908357326193088327673677499344217178000993287317664513312073454940762100626804329497086778686693834026098511856095186449067672827760280121067510224075356480859574367454500522067442424931506378215094313807358527976894391526616251829792229822829647888006918889275690221316363875985880182060004828960427196992047291077171740024863319458310811193757482089918128400706939809751405662817784868739892997085574554570637121198271863322709520490964356284309819379660691381439575930220315645248446153633458761824144656578232094746399810130510153958451222965844193988028253917396144743419239862796109742081)
-2147483648 ** 1: int(-2147483648)
-2147483648 ** 2: int(-4611686018427387904)
-2147483648 ** 32: int(-41855804968213567224547853478906320725054875457247406540771499545716837934567817284890561672488119458109166910841919797858872862722356017328064756151166307827869405370407152286801072676024887272960758524035337792904616958075776435777990406039363527010043736240963055342423554029893064011082834640896)
-2147483648 ** 64: int(-1751908409537131537220509645351687597690304110853111572994449976845956819751541616602568796259317428464425605223064365804210081422215355425149431390635151955247955156636234741221447435733643262808668929902091770092492911737768377135426590363166295684370498604708288556044687341394398676292971255828404734517580702346564613427770683056761383955397564338690628093211465848244049196353703022640400205739093118270803778352768276670202698397214556629204420309965547056893233608758387329699097930255380715679250799950923553703740673620901978370802540218870279314810722790539899334271514365444369275682816)
9223372036854775807 ** 1: int(9223372036854775807)
9223372036854775807 ** 2: int(85070591730234615847396907784232501249)
9223372036854775807 ** 32: int(7524389324549354423906826059867985026620849363015297363538931775726563448922360699352823055934447022902646222341122938559001631455113911111935986834162529888489589166496153156082961950595130205940515418825492737142009870703723094729573833219186725893664705796908922536873946693338962025677128913290269810452863037095720833321992306590266829063680570727163575013307887922493224702951268500480130872268475832413983301273596593659987073481698566971666199551326463654838858806614357333644155075100054006119086176889755042521830947937439287312252837378604783504886791100277728803500511128107182376171843092480001)
9223372036854775807 ** 64: int(56616434707392290100975175034257303510978163729568574908650330506552976431106809803725003462799712647372531603726028842255944895511092900578655772353746742988857348585820885162843120231501541626404357263619644774254826083211470642531468989086376662947230617990437104955412690772501777880404964333908289060976995589074038182083099865273174444615291037075222807533753212316027894525787734586499805409732669795791790562826981277199060209162726202193409956305334798287199750931882684235728635090413971125338192828141672362886446530797502771267754384781440842003375341943935203823693071552164381993841338305415088151196292507377188435255722677905072984570981283125556286364549186638514267782473283652804847988235134707815708711848941782157636566301764373781677562911744025865165597348179015584670553240252859441123801119112141033917661601906342120143966565752980416107030849381733351983100004090164613424227941965359260664524250631527370886145770023213769938875113012659648729355562478506514659581476913758047779022143257042015634739068380237664578805017463911321818861934591808629204617399570582458284966156328393625843587496455761917784931882017884560548629382855419366349245036211795713834174527757842176236584960001)
-9223372036854775808 ** 1: int(-9223372036854775808)
-9223372036854775808 ** 2: int(-85070591730234615865843651857942052864)
-9223372036854775808 ** 32: int(-7524389324549354450012295667238056650488661292408472865850279440061341770661038088891003609523855490537527473858068236032063038821912119420032983735773778315780422968627185582125139830259059580693966159220800634538007951025529707819651368618588002973837229854435730968342995245834129352264002058451047722604571453619205472623157541916371455764131661512732115122042085430429090324954236930736866452001076451671762299658372499364800367306988138217572983729940207496105489713305332746758395131148149101871456611571055068153665866066783899124296271513772531723497342815490725823828326183977758546404902789185536)
-9223372036854775808 ** 64: int(-56616434707392290493830608686343291913914207267329621488609504077443092998260469825507336856810827911261368707758178809587148432632037424161064675500873383487082580173608658838616501128049812714217651328283024830073412384889815432597905927601958951314543937080343085064110993312334723049547437731770779823050760639880425500165204989981997213399871161087661501312220225137504516172823917738211300299807381757818984800273856795211620996748504363142690436276062613301784444812913670500602718367796525145427307300283865951803998808065639029170703022449468190319930507340988677523066084721639425495152552125131611082991384744696522708197306203186569928692274528086558201803207638020888691121265434197293907218384095520560555896947150944133055863397615648411112470754656110748811237653374788477716072552588609616376430894096481364501294655654823142548823259752215716293351999419717562306177064929632050689015014405578694408614353540180649410108905523548191355424055272181142840177487296189764022300385934884483982341901658184426332624776972085905793515459600620068183625181327963636494799582466830531258661325767796742142353530480288174823736291072477683720590971289642787198230081364301868392910675871538608754231607296)
340282366920938463463374607431768211455 ** 1: int(340282366920938463463374607431768211455)
340282366920938463463374607431768211455 ** 2: int(115792089237316195423570985008687907852589419931798687112530834793049593217025)
340282366920938463463374607431768211455 ** 32: int(1044388881413152506691752710716624382481750390634362282948075884621831467400668458539882047189001793051823195713383480793427042803340655968315555679054790458036225609972088172423909596688156569947672110026281633625632526012978540595953050913104554246107045459145475972843651817403052000619196177657061230377685630172577927928424539028600123803692479016720443210495502842573834172644263442001492649764183021659764643514492024903385058412229941707495331038654544299592428917447971530430802274580305829278575066120300105133906287317867053728604457898347396899931861238969049699621303425343341115194856278361446570862778202501394683375623045128722997409665958937561025092482150721591286892204487167012427171444217397728043932747891048095346759885644360456158516792548093297861542618191361325310342684412977986601484569213782198853212162466237198949228333960517951891841562582401924466304847028300954249183722508308304507791676628862934973036950893479536638418542112845058962321356803426484265570828605642922112037135469254430034980402052716120872887014152312724149579925256358942252507965865434215224271318062084077190654039202952972715811606888522093251094262824415698593256070991546652179608102389318022604106619977392256259918212890625)
340282366920938463463374607431768211455 ** 64: int(1090748135619415929462984244733782862243117238541742173768829344407424120905234208050918747826532296226572869184032305417068044511800996890782807004477862514308278704093624944861481595595251957972184164176815532791602104508267387225697173192827388371211603411706373770568873260046448579913723283531752683855883490614641505422556385745563446414049347616379783336879696364403819788894998895241037362791186747161625506389165364959992017734806383143273475038081664453213829488636923735495580342412377899649700711719007195262781595048428477824037954471714466698295498358967357579320547265518629739436717042508463749549187732580691199277345964020024094545219850562398456837940548986560085766616972316329284208568342371950322627457986699710308637747474194978930907342166372478212274184941211054363651887140336395796809022911327381688193290688911209962922682936425821056767750554403791342891089593518670208152557736643008480029743427267881014201112333873832549167210152874576989656685228445485586679722388820661418157776776115686356206591728177970732870249074205719152437318590540931637885889819182126703500012787044934707480862449210399479139142284870020486420333649659391038350017899212987442903676160001597350424004038645737637500228808054116536156172059496522217319682171934510253846532822802893555502812296015619259268579412667450756423029848925031939727426268082910277811459770707811532987114022446854119459660780337452975966127587388545998834175058372583771522227729085253677641649976537053805965895491266810290507247046947873555008443269607006877737418442152611476389387760395276380613847826969898155140758879167960627151691420733479692756975440689598375630351072560016306612733567035408687407084851811235869141271453727557164614180084580518385712810912964644948124239387120231250296895163800420068322632456048133582703855047914378535145222080279519134177709229780612497958715181509161549825022305368480589342873607005971714014070936968051500843342283665375992871257672340613178731519923064847017159823382120176619829557300480411906316158187964925293598635347380460817827529429198625515494211794636489688811743687557003291941187492905064228834861520033064739508072157775158417787273972359714061058126429532779113292990800357028834975424554769290598351029262558885142381343533281644254666698675409576396401881674186138600248445804343281991360472175084872036498127905695887620831300092947599481398748031469580863811000557423423230896109004106619977392256259918212890625)

binary operator '%':
2147483647 % 1: int(0)
2147483647 % 2: int(1)
2147483647 % 32: int(31)
2147483647 % 64: int(63)
-2147483648 % 1: int(0)
-2147483648 % 2: int(0)
-2147483648 % 32: int(0)
-2147483648 % 64: int(0)
9223372036854775807 % 1: int(0)
9223372036854775807 % 2: int(1)
9223372036854775807 % 32: int(31)
9223372036854775807 % 64: int(63)
-9223372036854775808 % 1: int(0)
-9223372036854775808 % 2: int(0)
-9223372036854775808 % 32: int(0)
-9223372036854775808 % 64: int(0)
340282366920938463463374607431768211455 % 1: int(0)
340282366920938463463374607431768211455 % 2: int(1)
340282366920938463463374607431768211455 % 32: int(31)
340282366920938463463374607431768211455 % 64: int(63)

binary operator '&':
2147483647 & 1: int(1)
2147483647 & 2: int(2)
2147483647 & 32: int(32)
2147483647 & 64: int(64)
-2147483648 & 1: int(0)
-2147483648 & 2: int(0)
-2147483648 & 32: int(0)
-2147483648 & 64: int(0)
9223372036854775807 & 1: int(1)
9223372036854775807 & 2: int(2)
9223372036854775807 & 32: int(32)
9223372036854775807 & 64: int(64)
-9223372036854775808 & 1: int(0)
-9223372036854775808 & 2: int(0)
-9223372036854775808 & 32: int(0)
-9223372036854775808 & 64: int(0)
340282366920938463463374607431768211455 & 1: int(1)
340282366920938463463374607431768211455 & 2: int(2)
340282366920938463463374607431768211455 & 32: int(32)
340282366920938463463374607431768211455 & 64: int(64)

binary operator '|':
2147483647 | 1: int(2147483647)
2147483647 | 2: int(2147483647)
2147483647 | 32: int(2147483647)
2147483647 | 64: int(2147483647)
-2147483648 | 1: int(-2147483647)
-2147483648 | 2: int(-2147483646)
-2147483648 | 32: int(-2147483616)
-2147483648 | 64: int(-2147483584)
9223372036854775807 | 1: int(9223372036854775807)
9223372036854775807 | 2: int(9223372036854775807)
9223372036854775807 | 32: int(9223372036854775807)
9223372036854775807 | 64: int(9223372036854775807)
-9223372036854775808 | 1: int(-9223372036854775807)
-9223372036854775808 | 2: int(-9223372036854775806)
-9223372036854775808 | 32: int(-9223372036854775776)
-9223372036854775808 | 64: int(-9223372036854775744)
340282366920938463463374607431768211455 | 1: int(340282366920938463463374607431768211455)
340282366920938463463374607431768211455 | 2: int(340282366920938463463374607431768211455)
340282366920938463463374607431768211455 | 32: int(340282366920938463463374607431768211455)
340282366920938463463374607431768211455 | 64: int(340282366920938463463374607431768211455)

binary operator '^':
2147483647 ^ 1: int(2147483646)
2147483647 ^ 2: int(2147483645)
2147483647 ^ 32: int(2147483615)
2147483647 ^ 64: int(2147483583)
-2147483648 ^ 1: int(-2147483647)
-2147483648 ^ 2: int(-2147483646)
-2147483648 ^ 32: int(-2147483616)
-2147483648 ^ 64: int(-2147483584)
9223372036854775807 ^ 1: int(9223372036854775806)
9223372036854775807 ^ 2: int(9223372036854775805)
9223372036854775807 ^ 32: int(9223372036854775775)
9223372036854775807 ^ 64: int(9223372036854775743)
-9223372036854775808 ^ 1: int(-9223372036854775807)
-9223372036854775808 ^ 2: int(-9223372036854775806)
-9223372036854775808 ^ 32: int(-9223372036854775776)
-9223372036854775808 ^ 64: int(-9223372036854775744)
340282366920938463463374607431768211455 ^ 1: int(340282366920938463463374607431768211454)
340282366920938463463374607431768211455 ^ 2: int(340282366920938463463374607431768211453)
340282366920938463463374607431768211455 ^ 32: int(340282366920938463463374607431768211423)
340282366920938463463374607431768211455 ^ 64: int(340282366920938463463374607431768211391)

binary operator '<<':
2147483647 << 1: int(4294967294)
2147483647 << 2: int(8589934588)
2147483647 << 32: int(9223372032559808512)
2147483647 << 64: int(39614081238685424723062423552)
-2147483648 << 1: int(-4294967296)
-2147483648 << 2: int(-8589934592)
-2147483648 << 32: int(-9223372036854775808)
-2147483648 << 64: int(-39614081257132168796771975168)
9223372036854775807 << 1: int(18446744073709551614)
9223372036854775807 << 2: int(36893488147419103228)
9223372036854775807 << 32: int(39614081257132168792477007872)
9223372036854775807 << 64: int(170141183460469231713240559642174554112)
-9223372036854775808 << 1: int(-18446744073709551616)
-9223372036854775808 << 2: int(-36893488147419103232)
-9223372036854775808 << 32: int(-39614081257132168796771975168)
-9223372036854775808 << 64: int(-170141183460469231731687303715884105728)
340282366920938463463374607431768211455 << 1: int(680564733841876926926749214863536422910)
340282366920938463463374607431768211455 << 2: int(1361129467683753853853498429727072845820)
340282366920938463463374607431768211455 << 32: int(1461501637330902918203684832716283019651637575680)
340282366920938463463374607431768211455 << 64: int(6277101735386680763835789423207666416083908700390324961280)

binary operator '>>':
2147483647 >> 1: int(1073741823)
2147483647 >> 2: int(536870911)
2147483647 >> 32: int(0)
2147483647 >> 64: int(0)
-2147483648 >> 1: int(-1073741824)
-2147483648 >> 2: int(-536870912)
-2147483648 >> 32: int(-1)
-2147483648 >> 64: int(-1)
9223372036854775807 >> 1: int(4611686018427387903)
9223372036854775807 >> 2: int(2305843009213693951)
9223372036854775807 >> 32: int(2147483647)
9223372036854775807 >> 64: int(0)
-9223372036854775808 >> 1: int(-4611686018427387904)
-9223372036854775808 >> 2: int(-2305843009213693952)
-9223372036854775808 >> 32: int(-2147483648)
-9223372036854775808 >> 64: int(-1)
340282366920938463463374607431768211455 >> 1: int(170141183460469231731687303715884105727)
340282366920938463463374607431768211455 >> 2: int(85070591730234615865843651857942052863)
340282366920938463463374607431768211455 >> 32: int(79228162514264337593543950335)
340282366920938463463374607431768211455 >> 64: int(18446744073709551615)

unary operator '+':
+ 2147483647: int(2147483647)
+ -2147483648: int(-2147483648)
+ 9223372036854775807: int(9223372036854775807)
+ -9223372036854775808: int(-9223372036854775808)
+ 340282366920938463463374607431768211455: int(340282366920938463463374607431768211455)

unary operator '-':
- 2147483647: int(-2147483647)
- -2147483648: int(2147483648)
- 9223372036854775807: int(-9223372036854775807)
- -9223372036854775808: int(9223372036854775808)
- 340282366920938463463374607431768211455: int(-340282366920938463463374607431768211455)

unary operator '~':
~ 2147483647: int(-2147483648)
~ -2147483648: int(2147483647)
~ 9223372036854775807: int(-9223372036854775808)
~ -9223372036854775808: int(9223372036854775807)
~ 340282366920938463463374607431768211455: int(-340282366920938463463374607431768211456)