--TEST--
Bug #75035 Fix 5+ digit years in ISO 8601 date strings
--INI--
date.timezone=GMT
--FILE--
<?php

foreach ([PHP_INT_MIN, PHP_INT_MAX] as $big) {
    for ($i = 0; $i < 64; $i++) {
        $ts = $big >> $i;
        $iso_8601_date = date('c', $ts);
        try {
            $iso_8601_dt = (new DateTime($iso_8601_date))->format('c');
        } catch (Throwable $t) {
            $iso_8601_dt = null;
        }
        printf(
            "%24d %36s %36s %s\n",
            $ts,
            $iso_8601_date,
            $iso_8601_dt,
            $iso_8601_date === $iso_8601_dt ? 'eq' : 'neq'
        );
    }
}
--EXPECT--
    -9223372036854775808   -292277022657-01-27T08:29:52+00:00   -292277022657-01-27T08:29:52+00:00 eq
    -4611686018427387904   -146138510344-07-14T16:14:56+00:00   -146138510344-07-14T16:14:56+00:00 eq
    -2305843009213693952    -73069254187-04-08T20:07:28+00:00    -73069254187-04-08T20:07:28+00:00 eq
    -1152921504606846976    -36534626109-08-20T10:03:44+00:00    -36534626109-08-20T10:03:44+00:00 eq
     -576460752303423488    -18267312070-10-26T17:01:52+00:00    -18267312070-10-26T17:01:52+00:00 eq
     -288230376151711744     -9133655050-05-29T20:30:56+00:00     -9133655050-05-29T20:30:56+00:00 eq
     -144115188075855872     -4566826540-03-15T22:15:28+00:00     -4566826540-03-15T22:15:28+00:00 eq
      -72057594037927936     -2283412285-02-07T11:07:44+00:00     -2283412285-02-07T11:07:44+00:00 eq
      -36028797018963968     -1141705158-07-20T17:33:52+00:00     -1141705158-07-20T17:33:52+00:00 eq
      -18014398509481984      -570851594-04-11T08:46:56+00:00      -570851594-04-11T08:46:56+00:00 eq
       -9007199254740992      -285424812-02-20T16:23:28+00:00      -285424812-02-20T16:23:28+00:00 eq
       -4503599627370496      -142711421-01-25T20:11:44+00:00      -142711421-01-25T20:11:44+00:00 eq
       -2251799813685248       -71354726-07-14T10:05:52+00:00       -71354726-07-14T10:05:52+00:00 eq
       -1125899906842624       -35676378-04-08T05:02:56+00:00       -35676378-04-08T05:02:56+00:00 eq
        -562949953421312       -17837204-02-19T02:31:28+00:00       -17837204-02-19T02:31:28+00:00 eq
        -281474976710656        -8917617-01-25T13:15:44+00:00        -8917617-01-25T13:15:44+00:00 eq
        -140737488355328        -4457824-07-13T18:37:52+00:00        -4457824-07-13T18:37:52+00:00 eq
         -70368744177664        -2227927-04-07T09:18:56+00:00        -2227927-04-07T09:18:56+00:00 eq
         -35184372088832        -1112979-08-20T04:39:28+00:00        -1112979-08-20T04:39:28+00:00 eq
         -17592186044416         -555505-10-25T14:19:44+00:00         -555505-10-25T14:19:44+00:00 eq
          -8796093022208         -276768-11-27T19:09:52+00:00         -276768-11-27T19:09:52+00:00 eq
          -4398046511104         -137399-06-15T21:34:56+00:00         -137399-06-15T21:34:56+00:00 eq
          -2199023255552          -67715-09-22T22:47:28+00:00          -67715-09-22T22:47:28+00:00 eq
          -1099511627776          -32873-11-12T23:23:44+00:00          -32873-11-12T23:23:44+00:00 eq
           -549755813888          -15452-12-06T11:41:52+00:00          -15452-12-06T11:41:52+00:00 eq
           -274877906944           -6741-06-19T17:50:56+00:00           -6741-06-19T17:50:56+00:00 eq
           -137438953472           -2386-09-25T08:55:28+00:00           -2386-09-25T08:55:28+00:00 eq
            -68719476736           -0208-05-13T16:27:44+00:00           -0208-05-13T16:27:44+00:00 eq
            -34359738368            0881-03-07T20:13:52+00:00            0881-03-07T20:13:52+00:00 eq
            -17179869184            1425-08-04T22:06:56+00:00            1425-08-04T22:06:56+00:00 eq
             -8589934592            1697-10-17T11:03:28+00:00            1697-10-17T11:03:28+00:00 eq
             -4294967296            1833-11-24T17:31:44+00:00            1833-11-24T17:31:44+00:00 eq
             -2147483648            1901-12-13T20:45:52+00:00            1901-12-13T20:45:52+00:00 eq
             -1073741824            1935-12-23T10:22:56+00:00            1935-12-23T10:22:56+00:00 eq
              -536870912            1952-12-27T05:11:28+00:00            1952-12-27T05:11:28+00:00 eq
              -268435456            1961-06-30T02:35:44+00:00            1961-06-30T02:35:44+00:00 eq
              -134217728            1965-09-30T13:17:52+00:00            1965-09-30T13:17:52+00:00 eq
               -67108864            1967-11-16T06:38:56+00:00            1967-11-16T06:38:56+00:00 eq
               -33554432            1968-12-08T15:19:28+00:00            1968-12-08T15:19:28+00:00 eq
               -16777216            1969-06-20T19:39:44+00:00            1969-06-20T19:39:44+00:00 eq
                -8388608            1969-09-25T21:49:52+00:00            1969-09-25T21:49:52+00:00 eq
                -4194304            1969-11-13T10:54:56+00:00            1969-11-13T10:54:56+00:00 eq
                -2097152            1969-12-07T17:27:28+00:00            1969-12-07T17:27:28+00:00 eq
                -1048576            1969-12-19T20:43:44+00:00            1969-12-19T20:43:44+00:00 eq
                 -524288            1969-12-25T22:21:52+00:00            1969-12-25T22:21:52+00:00 eq
                 -262144            1969-12-28T23:10:56+00:00            1969-12-28T23:10:56+00:00 eq
                 -131072            1969-12-30T11:35:28+00:00            1969-12-30T11:35:28+00:00 eq
                  -65536            1969-12-31T05:47:44+00:00            1969-12-31T05:47:44+00:00 eq
                  -32768            1969-12-31T14:53:52+00:00            1969-12-31T14:53:52+00:00 eq
                  -16384            1969-12-31T19:26:56+00:00            1969-12-31T19:26:56+00:00 eq
                   -8192            1969-12-31T21:43:28+00:00            1969-12-31T21:43:28+00:00 eq
                   -4096            1969-12-31T22:51:44+00:00            1969-12-31T22:51:44+00:00 eq
                   -2048            1969-12-31T23:25:52+00:00            1969-12-31T23:25:52+00:00 eq
                   -1024            1969-12-31T23:42:56+00:00            1969-12-31T23:42:56+00:00 eq
                    -512            1969-12-31T23:51:28+00:00            1969-12-31T23:51:28+00:00 eq
                    -256            1969-12-31T23:55:44+00:00            1969-12-31T23:55:44+00:00 eq
                    -128            1969-12-31T23:57:52+00:00            1969-12-31T23:57:52+00:00 eq
                     -64            1969-12-31T23:58:56+00:00            1969-12-31T23:58:56+00:00 eq
                     -32            1969-12-31T23:59:28+00:00            1969-12-31T23:59:28+00:00 eq
                     -16            1969-12-31T23:59:44+00:00            1969-12-31T23:59:44+00:00 eq
                      -8            1969-12-31T23:59:52+00:00            1969-12-31T23:59:52+00:00 eq
                      -4            1969-12-31T23:59:56+00:00            1969-12-31T23:59:56+00:00 eq
                      -2            1969-12-31T23:59:58+00:00            1969-12-31T23:59:58+00:00 eq
                      -1            1969-12-31T23:59:59+00:00            1969-12-31T23:59:59+00:00 eq
     9223372036854775807    292277026596-12-04T15:30:07+00:00    292277026596-12-04T15:30:07+00:00 eq
     4611686018427387903    146138514283-06-19T07:45:03+00:00    146138514283-06-19T07:45:03+00:00 eq
     2305843009213693951     73069258126-09-25T03:52:31+00:00     73069258126-09-25T03:52:31+00:00 eq
     1152921504606846975     36534630048-05-13T13:56:15+00:00     36534630048-05-13T13:56:15+00:00 eq
      576460752303423487     18267316009-03-08T06:58:07+00:00     18267316009-03-08T06:58:07+00:00 eq
      288230376151711743      9133658989-08-04T03:29:03+00:00      9133658989-08-04T03:29:03+00:00 eq
      144115188075855871      4566830479-10-18T01:44:31+00:00      4566830479-10-18T01:44:31+00:00 eq
       72057594037927935      2283416224-11-24T12:52:15+00:00      2283416224-11-24T12:52:15+00:00 eq
       36028797018963967      1141709097-06-13T06:26:07+00:00      1141709097-06-13T06:26:07+00:00 eq
       18014398509481983       570855533-09-22T15:13:03+00:00       570855533-09-22T15:13:03+00:00 eq
        9007199254740991       285428751-11-12T07:36:31+00:00       285428751-11-12T07:36:31+00:00 eq
        4503599627370495       142715360-12-06T03:48:15+00:00       142715360-12-06T03:48:15+00:00 eq
        2251799813685247        71358665-06-19T13:54:07+00:00        71358665-06-19T13:54:07+00:00 eq
        1125899906842623        35680317-09-25T18:57:03+00:00        35680317-09-25T18:57:03+00:00 eq
         562949953421311        17841143-11-13T21:28:31+00:00        17841143-11-13T21:28:31+00:00 eq
         281474976710655         8921556-12-07T10:44:15+00:00         8921556-12-07T10:44:15+00:00 eq
         140737488355327         4461763-06-20T05:22:07+00:00         4461763-06-20T05:22:07+00:00 eq
          70368744177663         2231866-09-25T14:41:03+00:00         2231866-09-25T14:41:03+00:00 eq
          35184372088831         1116918-05-14T19:20:31+00:00         1116918-05-14T19:20:31+00:00 eq
          17592186044415          559444-03-08T09:40:15+00:00          559444-03-08T09:40:15+00:00 eq
           8796093022207          280707-02-04T04:50:07+00:00          280707-02-04T04:50:07+00:00 eq
           4398046511103          141338-07-19T02:25:03+00:00          141338-07-19T02:25:03+00:00 eq
           2199023255551           71654-04-10T01:12:31+00:00           71654-04-10T01:12:31+00:00 eq
           1099511627775           36812-02-20T00:36:15+00:00           36812-02-20T00:36:15+00:00 eq
            549755813887           19391-01-25T12:18:07+00:00           19391-01-25T12:18:07+00:00 eq
            274877906943           10680-07-14T06:09:03+00:00           10680-07-14T06:09:03+00:00 eq
            137438953471            6325-04-08T15:04:31+00:00            6325-04-08T15:04:31+00:00 eq
             68719476735            4147-08-20T07:32:15+00:00            4147-08-20T07:32:15+00:00 eq
             34359738367            3058-10-26T03:46:07+00:00            3058-10-26T03:46:07+00:00 eq
             17179869183            2514-05-30T01:53:03+00:00            2514-05-30T01:53:03+00:00 eq
              8589934591            2242-03-16T12:56:31+00:00            2242-03-16T12:56:31+00:00 eq
              4294967295            2106-02-07T06:28:15+00:00            2106-02-07T06:28:15+00:00 eq
              2147483647            2038-01-19T03:14:07+00:00            2038-01-19T03:14:07+00:00 eq
              1073741823            2004-01-10T13:37:03+00:00            2004-01-10T13:37:03+00:00 eq
               536870911            1987-01-05T18:48:31+00:00            1987-01-05T18:48:31+00:00 eq
               268435455            1978-07-04T21:24:15+00:00            1978-07-04T21:24:15+00:00 eq
               134217727            1974-04-03T10:42:07+00:00            1974-04-03T10:42:07+00:00 eq
                67108863            1972-02-16T17:21:03+00:00            1972-02-16T17:21:03+00:00 eq
                33554431            1971-01-24T08:40:31+00:00            1971-01-24T08:40:31+00:00 eq
                16777215            1970-07-14T04:20:15+00:00            1970-07-14T04:20:15+00:00 eq
                 8388607            1970-04-08T02:10:07+00:00            1970-04-08T02:10:07+00:00 eq
                 4194303            1970-02-18T13:05:03+00:00            1970-02-18T13:05:03+00:00 eq
                 2097151            1970-01-25T06:32:31+00:00            1970-01-25T06:32:31+00:00 eq
                 1048575            1970-01-13T03:16:15+00:00            1970-01-13T03:16:15+00:00 eq
                  524287            1970-01-07T01:38:07+00:00            1970-01-07T01:38:07+00:00 eq
                  262143            1970-01-04T00:49:03+00:00            1970-01-04T00:49:03+00:00 eq
                  131071            1970-01-02T12:24:31+00:00            1970-01-02T12:24:31+00:00 eq
                   65535            1970-01-01T18:12:15+00:00            1970-01-01T18:12:15+00:00 eq
                   32767            1970-01-01T09:06:07+00:00            1970-01-01T09:06:07+00:00 eq
                   16383            1970-01-01T04:33:03+00:00            1970-01-01T04:33:03+00:00 eq
                    8191            1970-01-01T02:16:31+00:00            1970-01-01T02:16:31+00:00 eq
                    4095            1970-01-01T01:08:15+00:00            1970-01-01T01:08:15+00:00 eq
                    2047            1970-01-01T00:34:07+00:00            1970-01-01T00:34:07+00:00 eq
                    1023            1970-01-01T00:17:03+00:00            1970-01-01T00:17:03+00:00 eq
                     511            1970-01-01T00:08:31+00:00            1970-01-01T00:08:31+00:00 eq
                     255            1970-01-01T00:04:15+00:00            1970-01-01T00:04:15+00:00 eq
                     127            1970-01-01T00:02:07+00:00            1970-01-01T00:02:07+00:00 eq
                      63            1970-01-01T00:01:03+00:00            1970-01-01T00:01:03+00:00 eq
                      31            1970-01-01T00:00:31+00:00            1970-01-01T00:00:31+00:00 eq
                      15            1970-01-01T00:00:15+00:00            1970-01-01T00:00:15+00:00 eq
                       7            1970-01-01T00:00:07+00:00            1970-01-01T00:00:07+00:00 eq
                       3            1970-01-01T00:00:03+00:00            1970-01-01T00:00:03+00:00 eq
                       1            1970-01-01T00:00:01+00:00            1970-01-01T00:00:01+00:00 eq
                       0            1970-01-01T00:00:00+00:00            1970-01-01T00:00:00+00:00 eq
